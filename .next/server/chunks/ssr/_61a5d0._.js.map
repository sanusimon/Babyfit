{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/lib/wixClientServer.js"],"sourcesContent":["  import { createClient, OAuthStrategy } from \"@wix/sdk\";\n  import { products,collections } from \"@wix/stores\";\n  import { cookies } from \"next/headers\";\n\n\n  export const wixClientServer  = async () =>{\n\n      let refreshToken;\n      try{\n          const cookiesStore = await cookies();\n          refreshToken = JSON.parse(cookiesStore.get(\"refreshToken\")?.value || \"{}\");    \n      } catch(err){\n\n      }\n          const wixClient = createClient({\n          modules: {\n            products,\n            collections\n          },\n          auth: OAuthStrategy({\n            clientId: process.env.NEXT_PUBLIC_WIX_CLIENT_ID,\n            tokens: {\n              refreshToken,accessToken:{value:\"\" , expiresAt:0}\n            },\n          }),\n        });\n  return wixClient     \n  }\n      \n"],"names":[],"mappings":";;;AACE;AACA;AAFA;AACA;AAAA;AADA;;;;AAKO,MAAM,kBAAmB;IAE5B,IAAI;IACJ,IAAG;QACC,MAAM,eAAe,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;QACjC,eAAe,KAAK,KAAK,CAAC,aAAa,GAAG,CAAC,iBAAiB,SAAS;IACzE,EAAE,OAAM,KAAI,CAEZ;IACI,MAAM,YAAY,CAAA,GAAA,kJAAA,CAAA,eAAY,AAAD,EAAE;QAC/B,SAAS;YACP,UAAA,6MAAA,CAAA,WAAQ;YACR,aAAA,mNAAA,CAAA,cAAW;QACb;QACA,MAAM,CAAA,GAAA,wKAAA,CAAA,gBAAa,AAAD,EAAE;YAClB,QAAQ;YACR,QAAQ;gBACN;gBAAa,aAAY;oBAAC,OAAM;oBAAK,WAAU;gBAAC;YAClD;QACF;IACF;IACN,OAAO;AACP"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/Filter/Filter.jsx"],"sourcesContent":["import React from 'react'; // Add this import\n\nimport { usePathname, useSearchParams } from \"next/navigation\"\nimport { useRouter } from \"next/navigation\";\nimport \"./Filter.scss\"  \n\n const Filter = ({}) => {\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n    const{ replace } = useRouter();\n\n\n // Fetch categories to populate filter options\n const [categories, setCategories] = React.useState([]);\n React.useEffect(() => {\n     const fetchCategories = async () => {\n         const wixClient = await wixClientServer();\n         const cats = await wixClient.collections.queryCollections().find();\n         setCategories(cats.items);\n     };\n\n     fetchCategories();\n }, []);\n\n\n    const selectFilterChange = ((e)=>{\n        const {name,value} = e.target;\n        const params = new URLSearchParams(searchParams);\n        params.set(name,value);\n        \n        replace(`${pathname}?${params.toString()}`)\n    })\n\n  return (\n    <div className='filter_area'>\n\n     \n        <div className=\"filter_item\">\n        <select className=\"drop_down\" name=\"category\" onChange={selectFilterChange}>\n                    <option value=\"All Products\">All Products</option>\n                    {categories.map((cat) => (\n                        <option key={cat._id} value={cat.slug}>\n                            {cat.name}\n                        </option>\n                    ))}\n                </select>\n\n            \n\n        </div>\n        <div className=\"filter_item\">\n            <input type=\"text\" name=\"min\" placeholder=\"Min Price\" onChange={selectFilterChange}></input>\n        </div>\n        <div className=\"filter_item\">\n            <input type=\"text\" name=\"max\" placeholder=\"Max Price\" onChange={selectFilterChange}></input>\n        </div>\n        <div className=\"filter_item\">\n        <select className=\"drop_down\" name=\"sort\" onChange={selectFilterChange}>\n            <option>Sort By</option>\n            <option value=\"asc price\">Price (low to high)</option>\n            <option value=\"desc price\">Price (high to low)</option>\n            <option value=\"asc lastUpdated\">Newest</option>\n            <option value=\"desc lastUpdated\">Oldest</option>\n            </select>\n\n        </div>\n\n\n\n    </div>\n  )\n}\n\nexport default Filter"],"names":[],"mappings":";;;;AAAA,iVAA2B,kBAAkB;AAE7C;AAAA;;;;;;AAIC,MAAM,SAAS,CAAC,EAAE;IACf,MAAM,WAAW,CAAA,GAAA,qLAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,eAAe,CAAA,GAAA,qLAAA,CAAA,kBAAe,AAAD;IACnC,MAAK,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,qLAAA,CAAA,YAAS,AAAD;IAG9B,8CAA8C;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,qMAAA,CAAA,UAAK,CAAC,QAAQ,CAAC,EAAE;IACrD,qMAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACZ,MAAM,kBAAkB;YACpB,MAAM,YAAY,MAAM;YACxB,MAAM,OAAO,MAAM,UAAU,WAAW,CAAC,gBAAgB,GAAG,IAAI;YAChE,cAAc,KAAK,KAAK;QAC5B;QAEA;IACJ,GAAG,EAAE;IAGF,MAAM,qBAAsB,CAAC;QACzB,MAAM,EAAC,IAAI,EAAC,KAAK,EAAC,GAAG,EAAE,MAAM;QAC7B,MAAM,SAAS,IAAI,gBAAgB;QACnC,OAAO,GAAG,CAAC,MAAK;QAEhB,QAAQ,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAC9C;IAEF,qBACE,8OAAC;QAAI,WAAU;;0BAGX,8OAAC;gBAAI,WAAU;0BACf,cAAA,8OAAC;oBAAO,WAAU;oBAAY,MAAK;oBAAW,UAAU;;sCAC5C,8OAAC;4BAAO,OAAM;sCAAe;;;;;;wBAC5B,WAAW,GAAG,CAAC,CAAC,oBACb,8OAAC;gCAAqB,OAAO,IAAI,IAAI;0CAChC,IAAI,IAAI;+BADA,IAAI,GAAG;;;;;;;;;;;;;;;;0BASpC,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAM,MAAK;oBAAO,MAAK;oBAAM,aAAY;oBAAY,UAAU;;;;;;;;;;;0BAEpE,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAM,MAAK;oBAAO,MAAK;oBAAM,aAAY;oBAAY,UAAU;;;;;;;;;;;0BAEpE,8OAAC;gBAAI,WAAU;0BACf,cAAA,8OAAC;oBAAO,WAAU;oBAAY,MAAK;oBAAO,UAAU;;sCAChD,8OAAC;sCAAO;;;;;;sCACR,8OAAC;4BAAO,OAAM;sCAAY;;;;;;sCAC1B,8OAAC;4BAAO,OAAM;sCAAa;;;;;;sCAC3B,8OAAC;4BAAO,OAAM;sCAAkB;;;;;;sCAChC,8OAAC;4BAAO,OAAM;sCAAmB;;;;;;;;;;;;;;;;;;;;;;;AAS7C;uCAEe"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/Pagination/Pagination.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/Components/Pagination/Pagination.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/Components/Pagination/Pagination.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/Pagination/Pagination.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/Components/Pagination/Pagination.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/Components/Pagination/Pagination.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/productList/ProductList.jsx"],"sourcesContent":["\n    import Pagination from \"@/Components/Pagination/Pagination\";\n    import { wixClientServer } from \"@/lib/wixClientServer\";\n    import Link from \"next/link\";\n\n\n    const PRODUCT_PER_PAGE = 8;\n\n\n    export default async function ProductList ({ categoryId,limit,searchParams }) {\n    \n        searchParams = await searchParams;\n        console.log(categoryId)\n\n        if (!categoryId) {\n            return <div>Error: No category ID provided</div>; // âœ… Return JSX\n        }\n\n        const wixClient = await wixClientServer();\n\n        try {\n            let productQuery =  wixClient.products\n                .queryProducts()\n                .startsWith(\"name\" , searchParams?.name || \"\")\n                // .hasSome(\"productCategory\", searchParams?.category && searchParams.category !== \"All Products\" \n                //     ? [searchParams.category] \n                //     : [])\n                .hasSome(\"collectionIds\", [categoryId])\n                .gt(\"priceData.price\",searchParams?.min || 0)\n                .lt(\"priceData.price\",searchParams?.max || 9999)\n                .limit(limit || PRODUCT_PER_PAGE)\n                .skip(\n                    searchParams?.page \n                    ? parseInt(searchParams.page) * (limit || PRODUCT_PER_PAGE)\n                    : 0\n                );\n                const collections = await wixClient.collections.queryCollections().find();\n                console.log(\"Available Collections:\", collections.items);\n                if (searchParams?.category && searchParams.category !== \"All Products\") {\n                    // Make sure you're filtering by a valid collection ID\n                    const selectedCollection = collections.items.find(c => c.name === searchParams.category);\n                    \n                    if (selectedCollection) {\n                        productQuery = productQuery.hasSome(\"collectionIds\", [selectedCollection._id]);\n                        console.log(\"selected Name\",[selectedCollection.name] )\n                    } else {\n                        console.warn(`No matching collection found for: ${searchParams.category}`);\n                    }\n                }\n                \n        \n                // âœ… Apply sorting\n                if (searchParams?.sort) {\n                    const [sortType, sortBy] = searchParams.sort.split(\" \");\n                \n                    if (sortType === \"asc\") {\n                      productQuery = productQuery.ascending(sortBy); // Reassign the query\n                    }\n                    if (sortType === \"desc\") {\n                      productQuery = productQuery.descending(sortBy); // Reassign the query\n                    }\n                  }\n                \n                  const res = await productQuery.find();\n\n            if (!res.items || res.items.length === 0) {\n                return <div>No products found for this category.</div>; // âœ… Return JSX\n            }\n\n            return (\n                <div>\n                <div className=\"product_page\">\n                    <div className=\"container\">\n                        <div className='inner_'>\n                            \n                            <ul className=\"product_list\">\n                                {res.items.map((product,index)=>{\n                                    return(\n                                    <li className=\"\" key={index}>\n                                        <Link href={\"/\" + product.slug}>\n                                        <div className='img_wrap'>\n                                            <img src={product.media?.items[1]?.image?.url} />\n                                        </div>\n                                        <div className=\"name_price\">\n                                        <label className='cat_name'>{product.name}</label>  \n                                        <label className='cat_price'>${product.price?.price}</label>  \n                                        </div>\n                                        <button className=\"add_cart\">Add to Cart</button>\n                                        </Link>\n                                    </li>\n                                    )\n                                })}\n                            </ul>\n                            {searchParams?.cat || searchParams?.name ? (\n                            <Pagination currentPage={res.currentPage || 0} hasPrev={res.hasPrev()} hasNext={res.hasNext()} />\n                        ) : null}\n                            </div>\n                    </div>\n                </div>\n                </div>\n            );\n        } catch (error) {\n            console.error(\"Wix API Error:\", error);\n            return <div>Error: {error.message || \"Failed to fetch products\"}</div>; // âœ… Return JSX\n        }\n    };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 463, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/app/list/page.jsx"],"sourcesContent":["import { wixClientServer } from \"@/lib/wixClientServer\";\nimport Filter from \"@/Components/Filter/Filter\";\nimport ProductList from \"../../Components/productList/ProductList\";\n\n\nconst List = async ({searchParams}) => {\n  const wixClient = await wixClientServer();\n  console.log(wixClient);\n\n  const cat = await wixClient.collections.getCollectionBySlug(\n    searchParams.cat || \"all-products\"\n  );\n\n  \n  \n\n  return (\n\n    <section className=\"product_page\">\n      <div className=\"container\">\n        <div className=\"inner_\">\n          <Filter />\n          \n          <ProductList \n          categoryId={cat.collection?._id || \"00000000-000000-000000-000000000001\"} \n          searchParams={searchParams}/>\n          </div>\n      </div>\n    </section>\n    \n      \n   \n  )\n}\n\nexport default List"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAGA,MAAM,OAAO,OAAO,EAAC,YAAY,EAAC;IAChC,MAAM,YAAY,MAAM,CAAA,GAAA,6HAAA,CAAA,kBAAe,AAAD;IACtC,QAAQ,GAAG,CAAC;IAEZ,MAAM,MAAM,MAAM,UAAU,WAAW,CAAC,mBAAmB,CACzD,aAAa,GAAG,IAAI;IAMtB,qBAEE,8OAAC;QAAQ,WAAU;kBACjB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sIAAA,CAAA,UAAM;;;;;kCAEP,8OAAC,gJAAA,CAAA,UAAW;wBACZ,YAAY,IAAI,UAAU,EAAE,OAAO;wBACnC,cAAc;;;;;;;;;;;;;;;;;;;;;;AAQxB;uCAEe"}},
    {"offset": {"line": 516, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 527, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 527, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}