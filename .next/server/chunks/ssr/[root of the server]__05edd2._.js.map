{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/Filter/Filter.jsx"],"sourcesContent":["\"use client\"\nimport { usePathname, useSearchParams } from \"next/navigation\"\nimport { useRouter } from \"next/navigation\";\nimport \"./Filter.scss\"  \n\n const Filter = ({}) => {\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n    const{ replace } = useRouter();\n\n    const selectFilterChange = ((e)=>{\n        const {name,value} = e.target;\n        const params = new URLSearchParams(searchParams);\n        params.set(name,value);\n        \n        replace(`${pathname}?${params.toString()}`)\n    })\n\n  return (\n    <div className='filter_area'>\n\n        <div className=\"filter_item\">\n        <select\n          name=\"type\"\n          id=\"\"\n          className=\"\"\n          onChange={selectFilterChange}\n        >\n          <option>Type</option>\n          <option value=\"physical\">Physical</option>\n          <option value=\"digital\">Digital</option>\n        </select>\n        </div>\n        <div className=\"filter_item\">\n            <select className=\"drop_down\" name=\"category\" onChange={selectFilterChange}>\n                <option>Category</option>\n                <option value=\"All Products\">All Products</option>\n                <option value=\"boys\">boys</option>\n                <option value=\"Featured Products\">Featured Products</option>\n                <option value=\"Girls\">Girls</option>\n                <option value=\"New Born\">New Born</option>\n            </select>\n\n            \n\n        </div>\n        <div className=\"filter_item\">\n            <input type=\"text\" name=\"min\" placeholder=\"Min Price\" onChange={selectFilterChange}></input>\n        </div>\n        <div className=\"filter_item\">\n            <input type=\"text\" name=\"max\" placeholder=\"Max Price\" onChange={selectFilterChange}></input>\n        </div>\n        <div className=\"filter_item\">\n        <select className=\"drop_down\" name=\"sort\" onChange={selectFilterChange}>\n            <option>Sort By</option>\n            <option value=\"asc price\">Price (low to high)</option>\n            <option value=\"desc price\">Price (high to low)</option>\n            <option value=\"asc lastUpdated\">Newest</option>\n            <option value=\"desc lastUpdated\">Oldest</option>\n            </select>\n\n        </div>\n    </div>\n  )\n}\n\nexport default Filter"],"names":[],"mappings":";;;;AACA;AADA;;;;;AAKC,MAAM,SAAS,CAAC,EAAE;IACf,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IACnC,MAAK,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAE3B,MAAM,qBAAsB,CAAC;QACzB,MAAM,EAAC,IAAI,EAAC,KAAK,EAAC,GAAG,EAAE,MAAM;QAC7B,MAAM,SAAS,IAAI,gBAAgB;QACnC,OAAO,GAAG,CAAC,MAAK;QAEhB,QAAQ,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAC9C;IAEF,qBACE,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;0BACf,cAAA,8OAAC;oBACC,MAAK;oBACL,IAAG;oBACH,WAAU;oBACV,UAAU;;sCAEV,8OAAC;sCAAO;;;;;;sCACR,8OAAC;4BAAO,OAAM;sCAAW;;;;;;sCACzB,8OAAC;4BAAO,OAAM;sCAAU;;;;;;;;;;;;;;;;;0BAG1B,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAO,WAAU;oBAAY,MAAK;oBAAW,UAAU;;sCACpD,8OAAC;sCAAO;;;;;;sCACR,8OAAC;4BAAO,OAAM;sCAAe;;;;;;sCAC7B,8OAAC;4BAAO,OAAM;sCAAO;;;;;;sCACrB,8OAAC;4BAAO,OAAM;sCAAoB;;;;;;sCAClC,8OAAC;4BAAO,OAAM;sCAAQ;;;;;;sCACtB,8OAAC;4BAAO,OAAM;sCAAW;;;;;;;;;;;;;;;;;0BAMjC,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAM,MAAK;oBAAO,MAAK;oBAAM,aAAY;oBAAY,UAAU;;;;;;;;;;;0BAEpE,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAM,MAAK;oBAAO,MAAK;oBAAM,aAAY;oBAAY,UAAU;;;;;;;;;;;0BAEpE,8OAAC;gBAAI,WAAU;0BACf,cAAA,8OAAC;oBAAO,WAAU;oBAAY,MAAK;oBAAO,UAAU;;sCAChD,8OAAC;sCAAO;;;;;;sCACR,8OAAC;4BAAO,OAAM;sCAAY;;;;;;sCAC1B,8OAAC;4BAAO,OAAM;sCAAa;;;;;;sCAC3B,8OAAC;4BAAO,OAAM;sCAAkB;;;;;;sCAChC,8OAAC;4BAAO,OAAM;sCAAmB;;;;;;;;;;;;;;;;;;;;;;;AAM7C;uCAEe"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/lib/wixClientServer.js"],"sourcesContent":["// app/api/wixClientServer.js (or inside API route in the `pages/api/` directory)\nimport { createClient, OAuthStrategy } from \"@wix/sdk\";\nimport { products, collections } from \"@wix/stores\";\nimport { cookies } from \"next/headers\"; // This works only in server components\n\nexport const wixClientServer = async () => {\n  let refreshToken = null;\n  \n  try {\n    const cookiesStore = cookies();\n    refreshToken = JSON.parse(cookiesStore.get(\"refreshToken\")?.value || \"{}\");    \n  } catch (err) {\n    console.error(\"Error retrieving refresh token:\", err);\n  }\n\n  // Check if the refreshToken exists and is valid\n  if (!refreshToken || !refreshToken.value) {\n    throw new Error(\"Missing or invalid refresh token.\");\n  }\n\n  const wixClient = createClient({\n    modules: {\n      products,\n      collections\n    },\n    auth: OAuthStrategy({\n      clientId: process.env.NEXT_PUBLIC_WIX_CLIENT_ID,\n      tokens: {\n        refreshToken,\n        accessToken: { value: \"\", expiresAt: 0 }\n      }\n    }),\n  });\n\n  return wixClient;\n};\n"],"names":[],"mappings":"AAAA,iFAAiF;;;;AAEjF;AACA,6NAAwC,uCAAuC;AAF/E;AACA;AAAA;AADA;;;;AAIO,MAAM,kBAAkB;IAC7B,IAAI,eAAe;IAEnB,IAAI;QACF,MAAM,eAAe,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;QAC3B,eAAe,KAAK,KAAK,CAAC,aAAa,GAAG,CAAC,iBAAiB,SAAS;IACvE,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mCAAmC;IACnD;IAEA,gDAAgD;IAChD,IAAI,CAAC,gBAAgB,CAAC,aAAa,KAAK,EAAE;QACxC,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,YAAY,CAAA,GAAA,kJAAA,CAAA,eAAY,AAAD,EAAE;QAC7B,SAAS;YACP,UAAA,6MAAA,CAAA,WAAQ;YACR,aAAA,mNAAA,CAAA,cAAW;QACb;QACA,MAAM,CAAA,GAAA,wKAAA,CAAA,gBAAa,AAAD,EAAE;YAClB,QAAQ;YACR,QAAQ;gBACN;gBACA,aAAa;oBAAE,OAAO;oBAAI,WAAW;gBAAE;YACzC;QACF;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/app/product/page.jsx"],"sourcesContent":["\"use client\"\nimport { useState, useEffect } from \"react\";\nimport Filter from \"@/Components/Filter/Filter\";\nimport { wixClientServer } from \"@/lib/wixClientServer\";\nimport Link from \"next/link\";\nimport { useSearchParams } from \"next/navigation\"; // Get the search params on client side\n\nexport default function ProductPage({ categoryId }) {\n  const searchParams = useSearchParams();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setLoading(true);\n      const wixClient = await wixClientServer();\n\n      try {\n        const productQuery = wixClient.products\n          .queryProducts()\n          .startsWith(\"name\", searchParams?.get(\"name\") || \"\")\n          .hasSome(\"productType\", searchParams?.get(\"type\") ? [searchParams.get(\"type\")] : [\"physical\", \"digital\"])\n          .hasSome(\"collectionIds\", [categoryId])\n          .gt(\"priceData.price\", searchParams?.get(\"min\") || 0)\n          .lt(\"priceData.price\", searchParams?.get(\"max\") || 9999);\n\n        if (searchParams?.get(\"sort\")) {\n          const [sortType, sortBy] = searchParams.get(\"sort\").split(\" \");\n          if (sortType === \"asc\") {\n            productQuery.ascending(sortBy);\n          }\n          if (sortType === \"desc\") {\n            productQuery.descending(sortBy);\n          }\n        }\n\n        const res = await productQuery.find();\n        if (res.items && res.items.length > 0) {\n          setProducts(res.items);\n        } else {\n          setProducts([]);\n        }\n      } catch (error) {\n        console.error(\"Wix API Error:\", error);\n        setProducts([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [categoryId, searchParams]); // Re-run the fetch when searchParams or categoryId changes\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (products.length === 0) {\n    return <div>No products found for this category.</div>;\n  }\n\n  return (\n    <div>\n      <div className=\"product_page\">\n        <div className=\"container\">\n          <div className=\"inner_\">\n            <ul className=\"product_list\">\n              {products.map((product, index) => (\n                <li className=\"\" key={index}>\n                  <Link href={\"/\" + product.slug}>\n                    <div className=\"img_wrap\">\n                      <img src={product.media?.items[1]?.image?.url} alt={product.name} />\n                    </div>\n                    <div className=\"name_price\">\n                      <label className=\"cat_name\">{product.name}</label>\n                      <label className=\"cat_price\">${product.price?.price}</label>\n                    </div>\n                    <button className=\"add_cart\">Add to Cart</button>\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA,mOAAmD,uCAAuC;AAL1F;;;;;;;AAOe,SAAS,YAAY,EAAE,UAAU,EAAE;IAChD,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,WAAW;YACX,MAAM,YAAY,MAAM,CAAA,GAAA,6HAAA,CAAA,kBAAe,AAAD;YAEtC,IAAI;gBACF,MAAM,eAAe,UAAU,QAAQ,CACpC,aAAa,GACb,UAAU,CAAC,QAAQ,cAAc,IAAI,WAAW,IAChD,OAAO,CAAC,eAAe,cAAc,IAAI,UAAU;oBAAC,aAAa,GAAG,CAAC;iBAAQ,GAAG;oBAAC;oBAAY;iBAAU,EACvG,OAAO,CAAC,iBAAiB;oBAAC;iBAAW,EACrC,EAAE,CAAC,mBAAmB,cAAc,IAAI,UAAU,GAClD,EAAE,CAAC,mBAAmB,cAAc,IAAI,UAAU;gBAErD,IAAI,cAAc,IAAI,SAAS;oBAC7B,MAAM,CAAC,UAAU,OAAO,GAAG,aAAa,GAAG,CAAC,QAAQ,KAAK,CAAC;oBAC1D,IAAI,aAAa,OAAO;wBACtB,aAAa,SAAS,CAAC;oBACzB;oBACA,IAAI,aAAa,QAAQ;wBACvB,aAAa,UAAU,CAAC;oBAC1B;gBACF;gBAEA,MAAM,MAAM,MAAM,aAAa,IAAI;gBACnC,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG;oBACrC,YAAY,IAAI,KAAK;gBACvB,OAAO;oBACL,YAAY,EAAE;gBAChB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,kBAAkB;gBAChC,YAAY,EAAE;YAChB,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAY;KAAa,GAAG,2DAA2D;IAE3F,IAAI,SAAS;QACX,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,qBACE,8OAAC;kBACC,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCACX,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,8OAAC;gCAAG,WAAU;0CACZ,cAAA,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAM,MAAM,QAAQ,IAAI;;sDAC5B,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAI,KAAK,QAAQ,KAAK,EAAE,KAAK,CAAC,EAAE,EAAE,OAAO;gDAAK,KAAK,QAAQ,IAAI;;;;;;;;;;;sDAElE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAM,WAAU;8DAAY,QAAQ,IAAI;;;;;;8DACzC,8OAAC;oDAAM,WAAU;;wDAAY;wDAAE,QAAQ,KAAK,EAAE;;;;;;;;;;;;;sDAEhD,8OAAC;4CAAO,WAAU;sDAAW;;;;;;;;;;;;+BATX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBtC"}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}