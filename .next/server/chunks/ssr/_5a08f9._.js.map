{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/lib/wixClientServer.js"],"sourcesContent":["import { createClient, OAuthStrategy } from \"@wix/sdk\";\nimport { products,collections } from \"@wix/stores\";\nimport { cookies } from \"next/headers\";\n\n\nexport const wixClientServer  = async () =>{\n\n    let refreshToken;\n    try{\n        const cookiesStore = await cookies();\n        refreshToken = JSON.parse(cookiesStore.get(\"refreshToken\")?.value || \"{}\");    \n    } catch(err){\n\n    }\n        const wixClient = createClient({\n        modules: {\n          products,\n          collections\n        },\n        auth: OAuthStrategy({\n          clientId: process.env.NEXT_PUBLIC_WIX_CLIENT_ID,\n          tokens: {\n            refreshToken,accessToken:{value:\"\" , expiresAt:0}\n          },\n        }),\n      });\n return wixClient     \n}\n    \n"],"names":[],"mappings":";;;AACA;AACA;AAFA;AACA;AAAA;AADA;;;;AAKO,MAAM,kBAAmB;IAE5B,IAAI;IACJ,IAAG;QACC,MAAM,eAAe,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;QACjC,eAAe,KAAK,KAAK,CAAC,aAAa,GAAG,CAAC,iBAAiB,SAAS;IACzE,EAAE,OAAM,KAAI,CAEZ;IACI,MAAM,YAAY,CAAA,GAAA,kJAAA,CAAA,eAAY,AAAD,EAAE;QAC/B,SAAS;YACP,UAAA,6MAAA,CAAA,WAAQ;YACR,aAAA,mNAAA,CAAA,cAAW;QACb;QACA,MAAM,CAAA,GAAA,wKAAA,CAAA,gBAAa,AAAD,EAAE;YAClB,QAAQ;YACR,QAAQ;gBACN;gBAAa,aAAY;oBAAC,OAAM;oBAAK,WAAU;gBAAC;YAClD;QACF;IACF;IACL,OAAO;AACR"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/app/product/page.jsx"],"sourcesContent":["import { wixClientServer } from \"@/lib/wixClientServer\";\nimport Link from \"next/link\";\n\nexport default async function ProductPage({ categoryId, searchParams }) {\n    // Await searchParams here to ensure it's resolved\n    searchParams = await searchParams;\n\n    if (!categoryId) {\n        return <div>Error: No category ID provided</div>;\n    }\n\n    const wixClient = await wixClientServer();\n\n    try {\n        const productQuery = wixClient.products\n            .queryProducts()\n            .startsWith(\"name\", searchParams?.name || \"\")\n            .hasSome(\"productType\", searchParams?.type ? [searchParams.type] : [\"physical\", \"digital\"])\n            .hasSome(\"collectionIds\", [categoryId])\n            .gt(\"priceData.price\", searchParams?.min || 0)\n            .lt(\"priceData.price\", searchParams?.max || 9999);\n\n        if (searchParams?.sort) {\n            const [sortType, sortBy] = searchParams.sort.split(\" \");\n            if (sortBy === \"price\") {\n                if (sortType === \"asc\") {\n                    productQuery.ascending(\"priceData.price\");\n                } else if (sortType === \"desc\") {\n                    productQuery.descending(\"priceData.price\");\n                }\n            } else if (sortBy === \"lastUpdated\") {\n                if (sortType === \"asc\") {\n                    productQuery.ascending(\"lastUpdated\");\n                } else if (sortType === \"desc\") {\n                    productQuery.descending(\"lastUpdated\");\n                }\n            }\n        }\n\n        const res = await productQuery.find();\n\n        if (!res.items || res.items.length === 0) {\n            return <div>No products found for this category.</div>;\n        }\n\n        return (\n            <div className=\"product_page\">\n                <div className=\"container\">\n                    <div className=\"inner_\">\n                        <ul className=\"product_list\">\n                            {res.items.map((product, index) => (\n                                <li key={index}>\n                                    <Link href={`/${product.slug}`}>\n                                        <div className=\"img_wrap\">\n                                            <img src={product.media?.items[1]?.image?.url} alt={product.name} />\n                                        </div>\n                                        <div className=\"name_price\">\n                                            <label className=\"cat_name\">{product.name}</label>\n                                            <label className=\"cat_price\">${product.price?.price}</label>\n                                        </div>\n                                        <button className=\"add_cart\">Add to Cart</button>\n                                    </Link>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        );\n    } catch (error) {\n        console.error(\"Wix API Error:\", error);\n        return <div>Error: {error.message || \"Failed to fetch products\"}</div>;\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEe,eAAe,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE;IAClE,kDAAkD;IAClD,eAAe,MAAM;IAErB,IAAI,CAAC,YAAY;QACb,qBAAO,8OAAC;sBAAI;;;;;;IAChB;IAEA,MAAM,YAAY,MAAM,CAAA,GAAA,6HAAA,CAAA,kBAAe,AAAD;IAEtC,IAAI;QACA,MAAM,eAAe,UAAU,QAAQ,CAClC,aAAa,GACb,UAAU,CAAC,QAAQ,cAAc,QAAQ,IACzC,OAAO,CAAC,eAAe,cAAc,OAAO;YAAC,aAAa,IAAI;SAAC,GAAG;YAAC;YAAY;SAAU,EACzF,OAAO,CAAC,iBAAiB;YAAC;SAAW,EACrC,EAAE,CAAC,mBAAmB,cAAc,OAAO,GAC3C,EAAE,CAAC,mBAAmB,cAAc,OAAO;QAEhD,IAAI,cAAc,MAAM;YACpB,MAAM,CAAC,UAAU,OAAO,GAAG,aAAa,IAAI,CAAC,KAAK,CAAC;YACnD,IAAI,WAAW,SAAS;gBACpB,IAAI,aAAa,OAAO;oBACpB,aAAa,SAAS,CAAC;gBAC3B,OAAO,IAAI,aAAa,QAAQ;oBAC5B,aAAa,UAAU,CAAC;gBAC5B;YACJ,OAAO,IAAI,WAAW,eAAe;gBACjC,IAAI,aAAa,OAAO;oBACpB,aAAa,SAAS,CAAC;gBAC3B,OAAO,IAAI,aAAa,QAAQ;oBAC5B,aAAa,UAAU,CAAC;gBAC5B;YACJ;QACJ;QAEA,MAAM,MAAM,MAAM,aAAa,IAAI;QAEnC,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,GAAG;YACtC,qBAAO,8OAAC;0BAAI;;;;;;QAChB;QAEA,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAG,WAAU;kCACT,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,sBACrB,8OAAC;0CACG,cAAA,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,IAAI,EAAE;;sDAC1B,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC;gDAAI,KAAK,QAAQ,KAAK,EAAE,KAAK,CAAC,EAAE,EAAE,OAAO;gDAAK,KAAK,QAAQ,IAAI;;;;;;;;;;;sDAEpE,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAM,WAAU;8DAAY,QAAQ,IAAI;;;;;;8DACzC,8OAAC;oDAAM,WAAU;;wDAAY;wDAAE,QAAQ,KAAK,EAAE;;;;;;;;;;;;;sDAElD,8OAAC;4CAAO,WAAU;sDAAW;;;;;;;;;;;;+BAT5B;;;;;;;;;;;;;;;;;;;;;;;;;IAkBrC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,kBAAkB;QAChC,qBAAO,8OAAC;;gBAAI;gBAAQ,MAAM,OAAO,IAAI;;;;;;;IACzC;AACJ"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/Filter/Filter.jsx"],"sourcesContent":["import { usePathname, useSearchParams } from \"next/navigation\";\nimport { useRouter } from \"next/navigation\";\nimport \"./Filter.scss\";\n\nconst Filter = ({}) => {\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n    const { replace } = useRouter();\n\n    const selectFilterChange = (e) => {\n        const { name, value } = e.target;\n        // Ensure searchParams is resolved before use\n        searchParams.then((params) => {\n            const newParams = new URLSearchParams(params);\n            newParams.set(name, value);\n            if (name === \"sort\") {\n                newParams.set(name, value.replace(\"_\", \" \")); // Replaces underscores with space\n            } else {\n                newParams.set(name, value);\n            }\n            replace(`${pathname}?${newParams.toString()}`);\n        });\n    };\n\n    return (\n        <div className=\"filter_area\">\n            <div className=\"filter_item\">\n                <select name=\"type\" onChange={selectFilterChange}>\n                    <option>Type</option>\n                    <option value=\"physical\">Physical</option>\n                    <option value=\"digital\">Digital</option>\n                </select>\n            </div>\n            <div className=\"filter_item\">\n                <select className=\"drop_down\" name=\"category\" onChange={selectFilterChange}>\n                    <option>Category</option>\n                    <option value=\"All Products\">All Products</option>\n                    <option value=\"boys\">boys</option>\n                    <option value=\"Featured Products\">Featured Products</option>\n                    <option value=\"Girls\">Girls</option>\n                    <option value=\"New Born\">New Born</option>\n                </select>\n            </div>\n            <div className=\"filter_item\">\n                <input type=\"text\" name=\"min\" placeholder=\"Min Price\" onChange={selectFilterChange} />\n            </div>\n            <div className=\"filter_item\">\n                <input type=\"text\" name=\"max\" placeholder=\"Max Price\" onChange={selectFilterChange} />\n            </div>\n            <div className=\"filter_item\">\n                <select className=\"drop_down\" name=\"sort\" onChange={selectFilterChange}>\n                    <option>Sort By</option>\n                    <option value=\"asc price\">Price (low to high)</option>\n                    <option value=\"desc price\">Price (high to low)</option>\n                    <option value=\"asc lastUpdated\">Newest</option>\n                    <option value=\"desc lastUpdated\">Oldest</option>\n                </select>\n            </div>\n        </div>\n    );\n};\n\nexport default Filter;\n"],"names":[],"mappings":";;;;AAAA;AAAA;;;;;AAIA,MAAM,SAAS,CAAC,EAAE;IACd,MAAM,WAAW,CAAA,GAAA,qLAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,eAAe,CAAA,GAAA,qLAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,qLAAA,CAAA,YAAS,AAAD;IAE5B,MAAM,qBAAqB,CAAC;QACxB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,6CAA6C;QAC7C,aAAa,IAAI,CAAC,CAAC;YACf,MAAM,YAAY,IAAI,gBAAgB;YACtC,UAAU,GAAG,CAAC,MAAM;YACpB,IAAI,SAAS,QAAQ;gBACjB,UAAU,GAAG,CAAC,MAAM,MAAM,OAAO,CAAC,KAAK,OAAO,kCAAkC;YACpF,OAAO;gBACH,UAAU,GAAG,CAAC,MAAM;YACxB;YACA,QAAQ,GAAG,SAAS,CAAC,EAAE,UAAU,QAAQ,IAAI;QACjD;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAO,MAAK;oBAAO,UAAU;;sCAC1B,8OAAC;sCAAO;;;;;;sCACR,8OAAC;4BAAO,OAAM;sCAAW;;;;;;sCACzB,8OAAC;4BAAO,OAAM;sCAAU;;;;;;;;;;;;;;;;;0BAGhC,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAO,WAAU;oBAAY,MAAK;oBAAW,UAAU;;sCACpD,8OAAC;sCAAO;;;;;;sCACR,8OAAC;4BAAO,OAAM;sCAAe;;;;;;sCAC7B,8OAAC;4BAAO,OAAM;sCAAO;;;;;;sCACrB,8OAAC;4BAAO,OAAM;sCAAoB;;;;;;sCAClC,8OAAC;4BAAO,OAAM;sCAAQ;;;;;;sCACtB,8OAAC;4BAAO,OAAM;sCAAW;;;;;;;;;;;;;;;;;0BAGjC,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAM,MAAK;oBAAO,MAAK;oBAAM,aAAY;oBAAY,UAAU;;;;;;;;;;;0BAEpE,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAM,MAAK;oBAAO,MAAK;oBAAM,aAAY;oBAAY,UAAU;;;;;;;;;;;0BAEpE,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAO,WAAU;oBAAY,MAAK;oBAAO,UAAU;;sCAChD,8OAAC;sCAAO;;;;;;sCACR,8OAAC;4BAAO,OAAM;sCAAY;;;;;;sCAC1B,8OAAC;4BAAO,OAAM;sCAAa;;;;;;sCAC3B,8OAAC;4BAAO,OAAM;sCAAkB;;;;;;sCAChC,8OAAC;4BAAO,OAAM;sCAAmB;;;;;;;;;;;;;;;;;;;;;;;AAKrD;uCAEe"}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 461, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/app/productlist/page.jsx"],"sourcesContent":["import { wixClientServer } from \"@/lib/wixClientServer\";\nimport ProductPage from \"../product/page\";\nimport Filter from \"@/Components/Filter/Filter\";\n\n\nconst ProductListing = async ({searchParams}) => {\n\n  const wixClient = await wixClientServer();\n  const cat = await wixClient.collections.getCollectionBySlug(searchParams.cat || \"all-products\");\n  \n  console.log(\"Received cat:\", searchParams);\n\n  \n\n  return (\n\n    <section className=\"product_page\">\n      <div className=\"container\">\n        <div className=\"inner_\">\n          <Filter />\n          <h3 className=\"title\">{cat?.collection?.name} For you!</h3>\n          <ProductPage \n          categoryId={cat.collection?._id || \"00000000-000000-000000-000000000001\"} \n          searchParams={searchParams}/>\n          </div>\n      </div>\n    </section>\n    \n      \n   \n  )\n}\n\nexport default ProductListing"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAGA,MAAM,iBAAiB,OAAO,EAAC,YAAY,EAAC;IAE1C,MAAM,YAAY,MAAM,CAAA,GAAA,6HAAA,CAAA,kBAAe,AAAD;IACtC,MAAM,MAAM,MAAM,UAAU,WAAW,CAAC,mBAAmB,CAAC,aAAa,GAAG,IAAI;IAEhF,QAAQ,GAAG,CAAC,iBAAiB;IAI7B,qBAEE,8OAAC;QAAQ,WAAU;kBACjB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sIAAA,CAAA,UAAM;;;;;kCACP,8OAAC;wBAAG,WAAU;;4BAAS,KAAK,YAAY;4BAAK;;;;;;;kCAC7C,8OAAC,8HAAA,CAAA,UAAW;wBACZ,YAAY,IAAI,UAAU,EAAE,OAAO;wBACnC,cAAc;;;;;;;;;;;;;;;;;;;;;;AAQxB;uCAEe"}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}