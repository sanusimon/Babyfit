{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/lib/wixClientServer.js"],"sourcesContent":["  import { createClient, OAuthStrategy } from \"@wix/sdk\";\n  import { products,collections } from \"@wix/stores\";\n  // import { cookies } from \"next/headers\";\n\n\n  export const wixClientServer  = async () =>{\n\n      let refreshToken;\n      try{\n          const cookiesStore = await cookies();\n          refreshToken = JSON.parse(cookiesStore.get(\"refreshToken\")?.value || \"{}\");    \n      } catch(err){\n\n      }\n          const wixClient = createClient({\n          modules: {\n            products,\n            collections\n          },\n          auth: OAuthStrategy({\n            clientId: process.env.NEXT_PUBLIC_WIX_CLIENT_ID,\n            tokens: {\n              refreshToken,accessToken:{value:\"\" , expiresAt:0}\n            },\n          }),\n        });\n  return wixClient     \n  }\n      \n"],"names":[],"mappings":";;;AACE;AADA;AACA;AAAA;AADA;;;AAKO,MAAM,kBAAmB;IAE5B,IAAI;IACJ,IAAG;QACC,MAAM,eAAe,MAAM;QAC3B,eAAe,KAAK,KAAK,CAAC,aAAa,GAAG,CAAC,iBAAiB,SAAS;IACzE,EAAE,OAAM,KAAI,CAEZ;IACI,MAAM,YAAY,CAAA,GAAA,kJAAA,CAAA,eAAY,AAAD,EAAE;QAC/B,SAAS;YACP,UAAA,6MAAA,CAAA,WAAQ;YACR,aAAA,mNAAA,CAAA,cAAW;QACb;QACA,MAAM,CAAA,GAAA,wKAAA,CAAA,gBAAa,AAAD,EAAE;YAClB,QAAQ;YACR,QAAQ;gBACN;gBAAa,aAAY;oBAAC,OAAM;oBAAK,WAAU;gBAAC;YAClD;QACF;IACF;IACN,OAAO;AACP"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/Filter/Filter.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/Components/Filter/Filter.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/Components/Filter/Filter.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/Filter/Filter.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/Components/Filter/Filter.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/Components/Filter/Filter.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/productList/ProductList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'next/navigation';\nimport { wixClientServer } from '@/lib/wixClientServer';\nimport Link from \"next/link\";\n\nconst ProductList = () => {\n  const searchParams = useSearchParams();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Get selected category from the URL\n  const categoryId = searchParams.get('cat');\n  const category = searchParams.get('category'); // Adding support for both \"cat\" and \"category\" query params\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setLoading(true);\n      const wixClient = await wixClientServer();\n\n      let productQuery = wixClient.products.queryProducts();\n\n      // Apply category filter based on the `cat` or `category` query parameter\n      if (categoryId || category) {\n        const selectedCategory = categoryId || category; // We use either \"cat\" or \"category\"\n        productQuery = productQuery.hasSome(\"collectionIds\", [selectedCategory]);\n      }\n\n      try {\n        const res = await productQuery.find();\n        setProducts(res.items);\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [categoryId, category]); // Re-fetch products whenever the \"cat\" or \"category\" query changes\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      <div className=\"product_page\">\n        <div className=\"container\">\n          <div className=\"inner_\">\n            <ul className=\"product_list\">\n              {products.map((product, index) => (\n                <li key={index}>\n                  <Link href={`/product/${product.slug}`}>\n                    <div className=\"img_wrap\">\n                      <img src={product.media?.items[1]?.image?.url} alt={product.name} />\n                    </div>\n                    <div className=\"name_price\">\n                      <label className=\"cat_name\">{product.name}</label>\n                      <label className=\"cat_price\">${product.price?.price}</label>\n                    </div>\n                    <button className=\"add_cart\">Add to Cart</button>\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAFA;;;;;;AAIA,MAAM,cAAc;IAClB,MAAM,eAAe,CAAA,GAAA,qLAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,qCAAqC;IACrC,MAAM,aAAa,aAAa,GAAG,CAAC;IACpC,MAAM,WAAW,aAAa,GAAG,CAAC,aAAa,4DAA4D;IAE3G,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,WAAW;YACX,MAAM,YAAY,MAAM,CAAA,GAAA,6HAAA,CAAA,kBAAe,AAAD;YAEtC,IAAI,eAAe,UAAU,QAAQ,CAAC,aAAa;YAEnD,yEAAyE;YACzE,IAAI,cAAc,UAAU;gBAC1B,MAAM,mBAAmB,cAAc,UAAU,oCAAoC;gBACrF,eAAe,aAAa,OAAO,CAAC,iBAAiB;oBAAC;iBAAiB;YACzE;YAEA,IAAI;gBACF,MAAM,MAAM,MAAM,aAAa,IAAI;gBACnC,YAAY,IAAI,KAAK;YACvB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;YAC5C,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAY;KAAS,GAAG,mEAAmE;IAE/F,IAAI,SAAS;QACX,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,qBACE,8OAAC;kBACC,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCACX,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,8OAAC;0CACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,IAAI,EAAE;;sDACpC,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAI,KAAK,QAAQ,KAAK,EAAE,KAAK,CAAC,EAAE,EAAE,OAAO;gDAAK,KAAK,QAAQ,IAAI;;;;;;;;;;;sDAElE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAM,WAAU;8DAAY,QAAQ,IAAI;;;;;;8DACzC,8OAAC;oDAAM,WAAU;;wDAAY;wDAAE,QAAQ,KAAK,EAAE;;;;;;;;;;;;;sDAEhD,8OAAC;4CAAO,WAAU;sDAAW;;;;;;;;;;;;+BATxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBzB;uCAEe"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/app/list/page.jsx"],"sourcesContent":["import { wixClientServer } from \"@/lib/wixClientServer\";\nimport Filter from \"@/Components/Filter/Filter\";\nimport ProductList from \"../../Components/productList/ProductList\";\n\n\nconst List = async ({searchParams}) => {\n  const wixClient = await wixClientServer();\n  console.log(wixClient);\n\n  const cat = await wixClient.collections.getCollectionBySlug(\n    searchParams.cat || \"all-products\"\n  );\n\n  \n  \n\n  return (\n\n    <section className=\"product_page\">\n      <div className=\"container\">\n        <div className=\"inner_\">\n          <Filter />\n          \n          <ProductList \n          categoryId={cat.collection?._id || \"00000000-000000-000000-000000000001\"} \n          searchParams={searchParams}/>\n          </div>\n      </div>\n    </section>\n    \n      \n   \n  )\n}\n\nexport default List"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAGA,MAAM,OAAO,OAAO,EAAC,YAAY,EAAC;IAChC,MAAM,YAAY,MAAM,CAAA,GAAA,6HAAA,CAAA,kBAAe,AAAD;IACtC,QAAQ,GAAG,CAAC;IAEZ,MAAM,MAAM,MAAM,UAAU,WAAW,CAAC,mBAAmB,CACzD,aAAa,GAAG,IAAI;IAMtB,qBAEE,8OAAC;QAAQ,WAAU;kBACjB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sIAAA,CAAA,UAAM;;;;;kCAEP,8OAAC,gJAAA,CAAA,UAAW;wBACZ,YAAY,IAAI,UAAU,EAAE,OAAO;wBACnC,cAAc;;;;;;;;;;;;;;;;;;;;;;AAQxB;uCAEe"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}