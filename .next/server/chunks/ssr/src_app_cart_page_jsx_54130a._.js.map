{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/app/cart/page.jsx"],"sourcesContent":["\n\"use client\";\n\nimport React from 'react'\nimport './cart.scss'\n\nimport { useCartStore } from '@/hooks/useCartStore';\nimport {media as wixMedia} from '@wix/sdk'\nimport Link from 'next/link';\nimport { useWixClient } from '@/hooks/useWixClient';\n// import Quantity from '../../Components/Quantity/Quantity';\n// import Link from 'next/link';\n\nexport const Cart = () => {\n\n    const wixClient = useWixClient()\n    const {cart , isLoading , removeItem ,updateQuantity } = useCartStore();\n    console.log(cart)\n\n    // Function to calculate total discount\n    const calculateTotalDiscount = () => {\n        return cart.lineItems?.reduce((total, item) => {\n          // Calculate the discount for each item (fullPrice - price)\n          const discount = item.fullPrice.amount - item.price.amount;\n          return total + discount * item.quantity; // Multiply by quantity\n        }, 0);\n      };\n      \n      const totalDiscount = calculateTotalDiscount();\n\n    const handleQuantityChange = async (itemId, currentQuantity, action) => {\n        const newQuantity = action === 'increase' ? currentQuantity + 1 : currentQuantity - 1;\n        if (newQuantity > 0) {\n          await updateQuantity(wixClient, itemId, newQuantity); // Update the quantity in the cart\n        }\n      };\n\n      \n\n\n    return (\n        <section className=\"cart_page\">\n            <div className=\"container\">\n                    {\n                    // isLoading ? (\"Loading...\" ): \n                    !cart.lineItems || cart.lineItems.length === 0 ? (\n                        <div>Cart is Empty</div>\n                        ) : (\n                        <div className='inner_'>\n                            <div>\n                            <h2 className='title'>Shoping Cart</h2>\n                            {cart.lineItems?.map((item, index) => {\n                                const productSlug = item.url ? item.url.split(\"/\").pop() : \"\";\n                                const size = item.descriptionLines?.find(line => line.name.original === 'Size')?.plainText?.original || 'N/A';\n                                const color = item.descriptionLines?.find(line => line.name.original === 'Color')?.colorInfo?.original || 'N/A';\n                              \n                                return (\n                                    <div key={index} >\n                                        <div className=\"cart_item\">\n                                            {item.image && (\n                                                <div className=\"cart_item_img\">\n                                                \n                                                    <img src={wixMedia.getScaledToFillImageUrl(item.image,72,96,{})} />\n                                                \n                                            </div>\n                                            )}\n                                            <div className='cart_rgt_'>\n                                                <div className=\"cart_item_name\">\n                                                \n                                                    <Link href={`/${productSlug}`}>\n                                                        <h2 className='cat_name'>{item.productName.original}</h2>\n                                                        <span className='status_'>{item.availability.status}</span>\n                                                    </Link>\n                                                        \n                                                    </div>\n                                                    {/* <div className=\"cart_item_price\">\n                                                        <h2>{item.quantity && item.quantity>1 && <sup>{item.quantity} * </sup>} ${item.price.amount}</h2>\n                                                        <h2 className='line_throw'>${item.fullPrice.amount}</h2>\n                                                    </div> */}\n\n                                                    <div className='cart_item_price'>\n                                                        {item.price.amount === item.fullPrice.amount ? (\n                                                            <h2>{item.quantity && item.quantity>1 && <sup>{item.quantity} x </sup>}{item.price.formattedAmount}</h2>\n\n                                                        ) : \n                                                        \n                                                        (\n                                                            <><h2 className=\"\">{item.price.formattedAmount}</h2> \n                                                                <h2 className=\" line_throw\">{item.fullPrice.formattedAmount}</h2> </>\n                                                            )                    \n                                                    }\n                                                    </div>\n\n\n\n\n                                                    <div className='btm_'>\n                                                        <div className=\"cart_item_quantity\">\n                                                            <span>Qty : {item.quantity} </span>\n\n                                                            <button\n                                                                onClick={() => handleQuantityChange(item._id, item.quantity, 'decrease')}\n                                                                disabled={item.quantity <= 1}\n                                                                >\n                                                                -\n                                                                </button>\n                                                                <span>Qty: {item.quantity}</span>\n                                                                <button\n                                                                onClick={() => handleQuantityChange(item._id, item.quantity, 'increase')}\n                                                                disabled={item.quantity >= 10} // Assuming 10 is the max quantity you can have in the cart\n                                                                >\n                                                                +\n                                                                </button>\n                                                            \n                                                        </div>\n                                                        <div className=\"cart_item_quantity\">\n                                                            <span>Size : {size} </span>\n                                                        </div>\n                                                        <div className=\"cart_item_quantity\">\n                                                            <span>Color: {color}</span>\n                                                        </div>\n                                                    </div>\n                                                    \n                                                    <div className=\"cart_item_colour\">\n                                                        {/* <span>Qty : {item.choice.description} </span> */}\n                                                    </div>\n                                                    \n                                                    <div className=\"delete_cart\">\n                                                        <button onClick={()=>removeItem(wixClient, item._id)}><img src=\"./bin.png\" /></button>\n                                                    </div>\n                                                </div>\n\n                                        \n                                        </div>\n                                        \n                                    </div>\n                                );\n                            })}\n                            </div>\n            \n                            <div className='checkout_sec'>\n                                <div>\n                                <h3 className='title'>Payment Information</h3>\n                                <div className=\"cart_item_price sub_total\">\n                                    <label className='label'>Value of Products</label>\n                                    <span>\n                                        {cart.subtotal\n                                        ? `₹${(parseFloat(cart.subtotal.formattedAmount.replace(/[^\\d.-]/g, '')) + totalDiscount).toFixed(2)}`\n                                        : '₹0.00'}\n                                    </span>\n                                </div>\n                                <div className=\"cart_item_price sub_total\">\n                                        <label className='label'>\n                                        Discount(-)</label>\n                                        <span>{totalDiscount ? `$${totalDiscount.toFixed(2)}` : '$0.00'}</span>\n                                    </div>\n                                <div className=\"cart_item_price sub_total\">\n                                    <label className='label'>Shiping</label>\n                                    <span>Shiping</span>\n                                </div>\n                                <div className=\"cart_item_price sub_total\">\n                                    <label className='label'> Order Total</label>\n                                    <span>{cart.subtotal?.formattedAmount}</span>\n                                </div>\n                                <div className=\"cart_item_price sub_total\">\n                                    <label className='label'> <b>Net Payment</b></label>\n                                    <span>{cart.subtotal?.formattedAmount}</span>\n                                </div>\n                                <button className={isLoading ? \"cmnBtn disabled\" : \"cmnBtn\"} disabled={isLoading}>Checkout</button>\n                                </div>\n                            </div>\n                        </div>\n                        )\n                    } \n                    \n                        \n            \n               \n            </div>\n        </section>\n    );\n}\n\nexport default Cart"],"names":[],"mappings":"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"}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}