{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/lib/wixClientServer.js"],"sourcesContent":["  import { createClient, OAuthStrategy } from \"@wix/sdk\";\n  import { products,collections } from \"@wix/stores\";\n  // import { cookies } from \"next/headers\";\n\n\n  export const wixClientServer  = async () =>{\n\n      let refreshToken;\n      try{\n          const cookiesStore = await cookies();\n          refreshToken = JSON.parse(cookiesStore.get(\"refreshToken\")?.value || \"{}\");    \n      } catch(err){\n\n      }\n          const wixClient = createClient({\n          modules: {\n            products,\n            collections\n          },\n          auth: OAuthStrategy({\n            clientId: process.env.NEXT_PUBLIC_WIX_CLIENT_ID,\n            tokens: {\n              refreshToken,accessToken:{value:\"\" , expiresAt:0}\n            },\n          }),\n        });\n  return wixClient     \n  }\n      \n"],"names":[],"mappings":";;;AACE;AADA;AACA;AAAA;AADA;AAoBoB;;;AAfb,MAAM,kBAAmB;IAE5B,IAAI;IACJ,IAAG;QACC,MAAM,eAAe,MAAM;QAC3B,eAAe,KAAK,KAAK,CAAC,aAAa,GAAG,CAAC,iBAAiB,SAAS;IACzE,EAAE,OAAM,KAAI,CAEZ;IACI,MAAM,YAAY,CAAA,GAAA,qJAAA,CAAA,eAAY,AAAD,EAAE;QAC/B,SAAS;YACP,UAAA,gNAAA,CAAA,WAAQ;YACR,aAAA,sNAAA,CAAA,cAAW;QACb;QACA,MAAM,CAAA,GAAA,2KAAA,CAAA,gBAAa,AAAD,EAAE;YAClB,QAAQ;YACR,QAAQ;gBACN;gBAAa,aAAY;oBAAC,OAAM;oBAAK,WAAU;gBAAC;YAClD;QACF;IACF;IACN,OAAO;AACP"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/My%20files/Babyfit/babyfit-next/latest/shoping/src/Components/productList/ProductList.jsx"],"sourcesContent":["\"use client\"\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'next/navigation';\nimport { wixClientServer } from '@/lib/wixClientServer';\nimport Link from \"next/link\";\n\nconst ProductList = () => {\n  const searchParams = useSearchParams();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Get selected category from the URL\n  const categoryId = searchParams.get('cat');\n  const category = searchParams.get('category'); // Adding support for both \"cat\" and \"category\" query params\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setLoading(true);\n      const wixClient = await wixClientServer();\n\n      let productQuery = wixClient.products.queryProducts();\n\n      // Apply category filter based on the `cat` or `category` query parameter\n      if (categoryId || category) {\n        const selectedCategory = categoryId || category; // We use either \"cat\" or \"category\"\n        productQuery = productQuery.hasSome(\"collectionIds\", [selectedCategory]);\n      }\n\n      try {\n        const res = await productQuery.find();\n        setProducts(res.items);\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [categoryId, category]); // Re-fetch products whenever the \"cat\" or \"category\" query changes\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      <div className=\"product_page\">\n        <div className=\"container\">\n          <div className=\"inner_\">\n            <ul className=\"product_list\">\n              {products.map((product, index) => (\n                <li key={index}>\n                  <Link href={`/product/${product.slug}`}>\n                    <div className=\"img_wrap\">\n                      <img src={product.media?.items[1]?.image?.url} alt={product.name} />\n                    </div>\n                    <div className=\"name_price\">\n                      <label className=\"cat_name\">{product.name}</label>\n                      <label className=\"cat_price\">${product.price?.price}</label>\n                    </div>\n                    <button className=\"add_cart\">Add to Cart</button>\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMA,MAAM,cAAc;;IAClB,MAAM,eAAe,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,qCAAqC;IACrC,MAAM,aAAa,aAAa,GAAG,CAAC;IACpC,MAAM,WAAW,aAAa,GAAG,CAAC,aAAa,4DAA4D;IAE3G,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,MAAM;uDAAgB;oBACpB,WAAW;oBACX,MAAM,YAAY,MAAM,CAAA,GAAA,gIAAA,CAAA,kBAAe,AAAD;oBAEtC,IAAI,eAAe,UAAU,QAAQ,CAAC,aAAa;oBAEnD,yEAAyE;oBACzE,IAAI,cAAc,UAAU;wBAC1B,MAAM,mBAAmB,cAAc,UAAU,oCAAoC;wBACrF,eAAe,aAAa,OAAO,CAAC,iBAAiB;4BAAC;yBAAiB;oBACzE;oBAEA,IAAI;wBACF,MAAM,MAAM,MAAM,aAAa,IAAI;wBACnC,YAAY,IAAI,KAAK;oBACvB,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,4BAA4B;oBAC5C,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;gCAAG;QAAC;QAAY;KAAS,GAAG,mEAAmE;IAE/F,IAAI,SAAS;QACX,qBAAO,6LAAC;sBAAI;;;;;;IACd;IAEA,qBACE,6LAAC;kBACC,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAG,WAAU;kCACX,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,6LAAC;0CACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,IAAI,EAAE;;sDACpC,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,KAAK,QAAQ,KAAK,EAAE,KAAK,CAAC,EAAE,EAAE,OAAO;gDAAK,KAAK,QAAQ,IAAI;;;;;;;;;;;sDAElE,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAM,WAAU;8DAAY,QAAQ,IAAI;;;;;;8DACzC,6LAAC;oDAAM,WAAU;;wDAAY;wDAAE,QAAQ,KAAK,EAAE;;;;;;;;;;;;;sDAEhD,6LAAC;4CAAO,WAAU;sDAAW;;;;;;;;;;;;+BATxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBzB;GAjEM;;QACiB,qIAAA,CAAA,kBAAe;;;KADhC;uCAmES"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}